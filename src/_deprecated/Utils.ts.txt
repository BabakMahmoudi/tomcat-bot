import fs from 'fs';
import path from 'path';

import tomcat from '@gostarehnegar/tomcat';
export class Utils {


    public static async WriteText() {
        return fs.writeFileSync("aa.txt", "hello");

    }
    public static ReadConfig<T>(dir: string): T {

        const configFile = path.resolve(dir, 'config.json')
        console.log(configFile);
        const data = fs.existsSync(configFile)
            ? fs.readFileSync(configFile).toString()
            : null;
        if (data) {
            const result = JSON.parse(data) as T;
            Object.assign(tomcat.config, result);
            return result;
        }
        return {} as T;
    }
    public static getStartedTopic(id: string) {
        return `${id}/started`
    }

}